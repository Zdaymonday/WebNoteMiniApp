{"ast":null,"code":"export default {\n  name: \"login-form\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      hasErrors: false,\n      token: \"\"\n    };\n  },\n  methods: {\n    async login(e) {\n      e.preventDefault();\n      let credentials = {\n        userName: this.username,\n        password: this.password\n      };\n      let response = await fetch(\"https://localhost:7232/login\", {\n        method: \"Post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(credentials)\n      });\n      if (response.ok) {\n        let text = await response.text();\n        text = text.replaceAll('\"', \"\");\n        $store.commit(\"login\");\n      } else {\n        console.log(response.statusText);\n        this.hasErrors = true;\n      }\n    },\n    onLoginInput(e) {\n      this.username = e.target.value;\n    },\n    onPasswordInput(e) {\n      this.password = e.target.value;\n    }\n  }\n};","map":{"version":3,"mappings":"AAWA,eAAe;EACXA,IAAI,EAAE,YAAY;EAClBC,IAAI,GAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;IACX;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,KAAK,CAACC,CAAC,EAAE;MACXA,CAAC,CAACC,cAAc,EAAE;MAClB,IAAIC,WAAU,GAAI;QAACC,QAAQ,EAAC,IAAI,CAACT,QAAQ;QAAEC,QAAQ,EAAC,IAAI,CAACA;MAAQ,CAAC;MAClE,IAAIS,QAAO,GAAI,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QACvDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,WAAW;MACpC,CAAC,CAAC;MACF,IAAIE,QAAQ,CAACO,EAAE,EAAE;QACb,IAAIC,IAAG,GAAI,MAAMR,QAAQ,CAACQ,IAAI,EAAE;QAChCA,IAAG,GAAIA,IAAI,CAACC,UAAU,CAAC,GAAG,EAAC,EAAE,CAAC;QAC9BC,MAAM,CAACC,MAAM,CAAC,OAAO,CAAC;MAC1B,OACI;QACAC,OAAO,CAACC,GAAG,CAACb,QAAQ,CAACc,UAAU,CAAC;QAChC,IAAI,CAACtB,SAAQ,GAAI,IAAI;MACzB;IACJ,CAAC;IAEDuB,YAAY,CAACnB,CAAC,EAAC;MACX,IAAI,CAACN,QAAO,GAAIM,CAAC,CAACoB,MAAM,CAACC,KAAK;IAClC,CAAC;IAEDC,eAAe,CAACtB,CAAC,EAAC;MACd,IAAI,CAACL,QAAO,GAAIK,CAAC,CAACoB,MAAM,CAACC,KAAK;IAClC;EACJ;AACJ","names":["name","data","username","password","hasErrors","token","methods","login","e","preventDefault","credentials","userName","response","fetch","method","headers","body","JSON","stringify","ok","text","replaceAll","$store","commit","console","log","statusText","onLoginInput","target","value","onPasswordInput"],"sourceRoot":"","sources":["C:\\Users\\Администратор\\source\\repos\\WebNoteMiniApp\\webnoteminiapp.vue\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-form-container\">\r\n        <div class=\"login-form-header\">Login to get your notes</div>\r\n        <div v-if=\"hasErrors\">Неверный логин/пароль</div>\r\n        <input type=\"text\" :value=\"this.username\" @input=\"onLoginInput\" placeholder=\"Your login\" />\r\n        <input type=\"text\" :value=\"password\" @change=\"onPasswordInput\" placeholder=\"Password\" />\r\n        <button @click=\"login\">Login</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"login-form\",\r\n    data() {\r\n        return {\r\n            username: \"\",\r\n            password: \"\",\r\n            hasErrors: false,\r\n            token: \"\",\r\n        }\r\n    },\r\n    methods: {\r\n        async login(e) {\r\n            e.preventDefault();\r\n            let credentials = {userName:this.username, password:this.password};\r\n            let response = await fetch(\"https://localhost:7232/login\", {\r\n                method: \"Post\",\r\n                headers: {\"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify(credentials),\r\n            });\r\n            if (response.ok) {\r\n                let text = await response.text();\r\n                text = text.replaceAll('\"',\"\");\r\n                $store.commit(\"login\");\r\n            }\r\n            else{\r\n                console.log(response.statusText);\r\n                this.hasErrors = true;\r\n            }\r\n        },\r\n\r\n        onLoginInput(e){\r\n            this.username = e.target.value;\r\n        },\r\n\r\n        onPasswordInput(e){\r\n            this.password = e.target.value;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-form-container {\r\n    width: 400px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: white;\r\n    padding: 20px;\r\n    border-radius: 15px;\r\n}\r\n\r\n\r\n\r\ninput, .login-form-header{\r\n    margin-bottom: 5px;\r\n    font-size: 22px;\r\n}\r\n\r\nbutton{\r\n    font-size:22px ;\r\n    align-self: flex-end;\r\n    width: 20%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}